<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="800" viewBox="0 0 1200 800" role="img" aria-label="iTriangle architecture overview">
  <defs>
    <style>
      .box { fill: #ffffff; stroke: #2f2f2f; stroke-width: 2; rx: 10; }
      .text { font-family: Arial, sans-serif; font-size: 16px; fill: #111111; }
      .label { font-family: Arial, sans-serif; font-size: 14px; fill: #111111; }
      .arrow { stroke: #2f2f2f; stroke-width: 2; fill: none; marker-end: url(#arrow); }
    </style>
    <marker id="arrow" viewBox="0 0 10 10" refX="9" refY="5" markerWidth="8" markerHeight="8" orient="auto-start-reverse">
      <path d="M 0 0 L 10 5 L 0 10 z" fill="#2f2f2f" />
    </marker>
  </defs>

  <!-- Main vertical flow -->
  <rect class="box" x="420" y="40" width="360" height="50" />
  <text class="text" x="600" y="72" text-anchor="middle">Input contours</text>

  <rect class="box" x="360" y="130" width="480" height="50" />
  <text class="text" x="600" y="162" text-anchor="middle">Normalize and fix self-intersections</text>

  <rect class="box" x="420" y="220" width="360" height="50" />
  <text class="text" x="600" y="252" text-anchor="middle">Sweep-line triangulation</text>

  <rect class="box" x="420" y="310" width="360" height="50" />
  <text class="text" x="600" y="342" text-anchor="middle">Raw triangulation</text>

  <rect class="box" x="420" y="400" width="360" height="50" />
  <text class="text" x="600" y="432" text-anchor="middle">Delaunay triangulation</text>

  <!-- Adaptive refinement to the right -->
  <rect class="box" x="820" y="400" width="300" height="50" />
  <text class="text" x="970" y="432" text-anchor="middle">Adaptive refinement</text>

  <!-- Outputs -->
  <rect class="box" x="140" y="560" width="300" height="50" />
  <text class="text" x="290" y="592" text-anchor="middle">Convex decomposition</text>

  <rect class="box" x="450" y="560" width="300" height="50" />
  <text class="text" x="600" y="592" text-anchor="middle">Triangles and indices</text>

  <rect class="box" x="760" y="560" width="300" height="50" />
  <text class="text" x="910" y="592" text-anchor="middle">Centroid net</text>

  <!-- Arrows -->
  <path class="arrow" d="M 600 90 L 600 130" />
  <path class="arrow" d="M 600 180 L 600 220" />
  <path class="arrow" d="M 600 270 L 600 310" />
  <path class="arrow" d="M 600 360 L 600 400" />

  <!-- Delaunay to Adaptive refinement and back -->
  <path class="arrow" d="M 780 425 L 820 425" />
  <path class="arrow" d="M 820 445 C 780 480, 720 480, 680 440" />
  <text class="label" x="800" y="390" text-anchor="middle">Tessellation</text>

  <!-- Raw to Triangles and indices -->
  <path class="arrow" d="M 600 360 C 600 470, 600 520, 600 560" />

  <!-- Delaunay to outputs -->
  <path class="arrow" d="M 600 450 L 290 560" />
  <path class="arrow" d="M 600 450 L 600 560" />
  <path class="arrow" d="M 600 450 L 910 560" />
</svg>
